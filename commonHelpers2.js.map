{"version":3,"file":"commonHelpers2.js","sources":["../src/js/loader.js","../src/img/shopping_list/amazon1x.png","../src/img/shopping_list/amazon2x.png","../src/img/shopping_list/openbook.png","../src/img/shopping_list/trash.png","../src/js/shop_list.js"],"sourcesContent":["export function loaderOn(element) {\n  element.classList.add('loader');\n}\n\nexport function loaderOff(element) {\n  element.classList.remove('loader');\n}\n\n//використання\n/*\n\nHTML\nстворити div для лодера і задати йому id\n<div id=\"your-id\"></div>\n\nJS\nimport { loaderOn, loaderOff } from './loader';\nconst yourLoader = document.querySelector('#your-id');\nloaderOn(yourLoader);\nloaderOff(yourLoader);\n\n\n*/\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAPCAYAAACiLkz/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUOSURBVHgBtVZtbFNVGH7PuVsrVnbbTlDYem+7TRMNIuBEFzXGKC7IiOHP/KNRUeeciQpB/SG6JQIawYm4kNApmzFRiTGEH0swmrlIUH8sDpRtTNb1K2NmlNV12NnS3uNzbm+lLstwTN/kpOe8H8/7Pu/5uGUE0XXdpxC1YXoXRrEQ4ltSlOeDwWC4Qtc3YP0GY+wAbJswbheG4Tc47+BCdDLOfbD7g+HwDolVXl5eZVOUvZjeI7GYEN9lOW8MQbweTy3nfBcViCAarw6H674gylZ4vS+REFuAl2FEnySSyXdjsdhUpdfbYBjGU8DqRF2bYF9BhnEwGI1uL5IgCmNfIfAGTI8jcBkxtgFrG9YPSn4ofi10XuiWSn8U/TonegT6G6EjxLxZpWmHhyORfhvnR+FSKbEwlgvGakF0P+YPKYriQvIKq3aHRfAXFE8+XX8ZWO9gGgfJGPyaSxyOEhDYivlKq4br4KMzGc35a1W6/iUvKysrBZsglG0j4fDdQlHW51ojbi7sFBLFUpnMtfD73lwTnbqKsWXoYJ/pzpjm8XiWYzqC0Sqx0K1aC0s2hwKh0OfQuzI5EmctHLnzWfw2yTVs1UV2+22YpjG2aJrmurRdImorqEHi8tHR0fMjkUgtWB6q0LS3KZPZabnzQgKGEF3SFwWfMGMNo28gFPoNIMM5hkxEo9GzEgu6wxKLGcaePP9CLOz4drmzIH1kOBxur/R4VmDtxZiORCIjQ0NDUwj4icwtYncWhH59GjUAv9+syTCKzCJ9mnYIBRzDtqzHVk3TLALA7D/WjGVm86vUtI8lFuzr0JTkTDvuwcPA2orpBPxehJ9A3qWWOZX3Q+xUrnOGWhCeNm3Q5hXc6/XeC5B62dnpVKoGVb1KVyhoxDp09TFMT9odjhocoWaLrLkD8jjgfO+1ijjodrvNYyTS6WELYhHld4sxh2ljLDZXTq7IS5tLkhobG0tie+stmxvknLPEiNmAWDYrcE881nJiYGAgDd1GMwCXX1NVF7b7FcodFVnltvi5c0mvrn9k2O0JqMIYdpBcc5PPp2NejWGw4uKfaS4ClM2eypUl7sCTeRK/u8BmXIKhoEdpHmJYZxNyH16VE2C6A4WeB941iqpu5IzJo3IRzTqDPL14zeIgtTmTySxhMi+Z96MrZRi9mNoQ3xIIBMbnyqnEE4lxt6oGAepEp8YF50/j2TuCBKeDkUirunjx1eYJYKwnPjk5qJaUlGB1gYqKeuLx+BmX06ki+QSqOhqORvucbvcg4kuBLS94EzrYAXsAr89+1eVKpDOZZvjtBFb7ratWvRefmOjDHRgMRSLHS1U1gCNTBf8L0O3Gt0U+q5TPiTq6ETeMHE48EAl8X7rZXOyEnx6gP+kYe+HS5VqIiHZaieu3G1P56jhxjgZZg3lUrlj4nNYsuminb8SH9Dj9F8IoSXGqpwYqpyKqw23SaYHCLueArvnQtU4k84GuH6S62HO5j9d8RBwgFRg1yNiE32lgtgGvhTXS/bQAuSyBvwvw02YkfgtTeRF/xegBmUFS6Aey0RA9QZO4KuYLJfZh3xbREqzWwGc1Cr0F6jqMP1D4B2hACwi9D/2P7Bn6jBYg/5qAWVgrylpEjUgs3/rVM82U+9BITNsM2xC0n1Ix7WNP0u+ms5+24fzvoQXKvAjkxfz/1kFr6SIuoIE/fNx826/HKKYcCfmu94NSN3574d3LnoX3/yB/AfijHgUkhUNvAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAbCAYAAABvCO8sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALkSURBVHgB5VbPSxVRFP7OzLyXSYssTEtBwnRRkLZo0S8igqi9FUEQ0e8fhFJUf0JFiGRQkLVoW0Yg0rJ2LQJDhSCleGRiCBaBZM/35p7OPN/M3DtvZhSqTX1wmTPnnDnfOd+79yrwr4PinNzn7GcbJ8FolrcV4rKwFDAVpeJXsaYV82PnhNu/KKHbl+kWZxf+AJhVr33KvZRIWLyfOW5Z9CjwMuI1iPo5Uk2Ls+Lz9pnCPT/VkMoi6zqzZLrlpcInl2323lmzlbbcynwo61rshHN3q5qyNnL4C7BAjXRubtKzHd/pEDXAjWSuaQe1HAVqN5c+w8wo+G03MDuxEK9eC9pyWeJt3g8m8WHw0B3gx0Q4jrgLCg1imYTygVOSxUdLB6x9D4UnE/oatoNaD0E9OyCSfAcdeQ2qWhnGG3eC2i5ADRwGcgOBOwNeFgwWeIsLw/s7gGq3mmQ+qmpkqk5JsE0yDbRuF/jjoD+JlLYpntDydfDyko8erd4om2I+Me6pCxVka7ZOKCYr/auEW8ELkUSsLJIZvV0aqqUjMiEZhMkFkY7ShFoti2MIPXjnJpAUKaD0BBWppZEbkoZa89KmSIPSrh3bYCnDk5T9JNLsJLK0OGmE8izESVqU00LhyaffmdATSFFssvkbqspNw2OvgG/j0lAeqNsE2rBnIVZWgMdeyg3zHqUt7sWbd0cmhCFGSOhKGV3G3Bu4w3vBUyNGT1b7QdC201JELqYnZ6FG+41pqaYJtH5HedP4zWcqCQt5lc844WFX7wYr2/P8Q09hFYql3njkeUWcZz6VluEnt1hBuLyaPhd/pmwEnXRE7knbMWXTSSNtOLaaDLj1xPmrdTlJb4qtEpy9uDOYei7Hs7emW/0X48JUTDeNP6jGQuQZF4tZTDeirRmYv1LfK81eRBx0rZL+/TCqU0/29lRXKqGHfGd9h0SOEVOtvK4S2+bFy3tNsJDMilQfbOIHTs+XF/jv8AsNjyFs2j8NbgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADjSURBVHgBnVKBDYIwEPwaB8AJ7AhsIBsYNmADGcERdALZwBXYQDYAJoAN6hWrvu0jDZdcvmmv1/7lFQkwxhQo2tvulFIVxQAGrQnRSlqFgwQ1pRXAj2r7WmnWo1TuyxnKHazB68LDJXgAc7Ah1ncH3hYuW13F89iwswHcOZEGHzYfvna6PdhLBiP4Fml6BZt66wDcoHfuS0jcY4FBLGybg2TQ0Xf6RrY/egY/GWxJAAakQWj5NCg0hfpZz8LOvxsO/UeTOk1BMy1YnGYu2/COnjYQnSPG98LvKMEkQ8lIRu1n8QSBQeOQY05IhwAAAABJRU5ErkJggg==\"","import { loaderOn, loaderOff } from './loader';\nimport axios from 'axios';\nimport { onLoad } from '../js/dark-mode.js';\nimport amazon1x from '../img/shopping_list/amazon1x.png';\nimport amazon2x from '../img/shopping_list/amazon2x.png';\nimport openbook from '../img/shopping_list/openbook.png';\nimport trash from '../img/shopping_list/trash.png';\nimport Pagination from 'tui-pagination';\nimport { onError } from './iziToasts.js';\n\n//функція Анатолія для отримання книги за id (поки тут, але потім її треба буде просто імпортувати)\nasync function getBookById(bookId) {\n  const resp = await axios.get(\n    `https://books-backend.p.goit.global/books/${bookId}`\n  );\n  return resp.data;\n}\n\nconst booksContainer = document.querySelector('.js-books-container');\nconst emptyListImg = document.querySelector('.empty-shopping-list-main');\nconst shoppingListLoader = document.querySelector('#shopping-list-loader');\nconst tuiPagination = document.getElementById('pagination2');\nlet savedBooks; //масив книжок отриманих з бекенду\nlet itemsPerPage = calculateItemsPerPage(); //одразу перевіряємо розмір екрану і визначаємо кількість карток на сторінці\n\nonLoad();\nstartFunction();\ngetAllBooks();\n\nfunction startFunction() {\n  booksContainer.innerHTML = '';\n  emptyListImg.style.display = 'none';\n  loaderOn(shoppingListLoader);\n}\n\nwindow.addEventListener('resize', () => {\n  if (savedBooks.length !== 0) {\n    itemsPerPage = calculateItemsPerPage();\n    const pagination2 = new Pagination(tuiPagination, {\n      totalItems: savedBooks.length,\n      itemsPerPage: itemsPerPage,\n      visiblePages: 3,\n      centerAlign: true,\n    });\n    renderBooks(1);\n  }\n});\n\nfunction waitForEvent(element, eventType) {\n  return new Promise(function (resolve, reject) {\n    function eventHandler(event) {\n      // Після виконання події видаляємо обробник події\n      element.removeEventListener(eventType, eventHandler);\n      // Вирішуємо проміс з даними, які вас цікавлять\n      resolve(event);\n    }\n    // Додаємо обробник події\n    // element.addEventListener(eventType, eventHandler);\n    element.addEventListener(eventType, event => {\n      if (\n        event.target.classList.contains('tui-page-btn') &&\n        !event.target.classList.contains('tui-is-selected') &&\n        !event.target.classList.contains('tui-is-disabled')\n      ) {\n        eventHandler();\n      }\n    });\n  });\n}\n\nfunction calculateItemsPerPage() {\n  const screenWidth = window.innerWidth;\n  return screenWidth < 768 ? 4 : 3;\n}\n\nfunction getAllBooks() {\n  addBooks()\n    .then(result => {\n      savedBooks = result;\n      if (savedBooks.length === 0) {\n        loaderOff(shoppingListLoader);\n        emptyListImg.style.display = 'block';\n        booksContainer.innerHTML = '';\n        tuiPagination.innerHTML = '';\n      } else {\n        loaderOff(shoppingListLoader);\n\n        const pagination2 = new Pagination(tuiPagination, {\n          totalItems: savedBooks.length,\n          itemsPerPage: itemsPerPage,\n          visiblePages: 3,\n          centerAlign: true,\n        });\n        renderBooks(1);\n      }\n    })\n    .catch(() => {\n      onError();\n    });\n}\n\nfunction renderBooks(pageNumber) {\n  const transitionalBooksArray = [...savedBooks];\n  let booksOnPage = transitionalBooksArray.splice(\n    itemsPerPage * (pageNumber - 1),\n    itemsPerPage\n  );\n  const booksMarkup = booksOnPage.map(book => createBookCard(book)).join('');\n  booksContainer.innerHTML = booksMarkup;\n  emptyListImg.style.display = 'none';\n\n  // Викликаємо функцію, що очікує подію 'click' і повертає проміс\n  waitForEvent(tuiPagination, 'click').then(function (event) {\n    // Цей код буде виконаний після того, як подія 'click' відбудеться\n    renderBooks(parseInt(document.getElementsByTagName('strong')[0].innerHTML));\n  });\n}\n\n//функція отримує масив id збережених у сховищі і повертає масив промісів на книги\nfunction addBooks() {\n  return new Promise((resolve, reject) => {\n    const savedInShopList = localStorage.getItem('books');\n\n    if (savedInShopList) {\n      const booksIdArray = JSON.parse(savedInShopList);\n      const promises = [];\n\n      booksIdArray.forEach(bookId => {\n        const promise = getBookById(bookId);\n        promises.push(promise);\n      });\n\n      Promise.all(promises)\n        .then(books => {\n          resolve(books);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    } else {\n      resolve([]);\n    }\n  });\n}\n\n//функція повертає розмітку однієї картки\nfunction createBookCard(book) {\n  const { book_image, title, list_name, description, author, buy_links, _id } =\n    book; //деструктуризуємо\n  return `<div class=\"book-list\">\n<img class=\"book-card-img\" src=\"${book_image}\" alt=\"${title}\" />\n<div class=\"shop-card-info\">\n<div class=\"shop-card-hero\">\n<div class=\"shop-list-title-name\">\n<h3 class=\"shop-list-title\">${title}</h3>\n<p class=\"shop-list-list-name\">${list_name}</p>\n</div>\n<button class=\"remove-shop-list-book\" data-bookid=\"${_id}\">\n<img \n  class=\"icon-basket-shop-list\"\n  data-bookid=\"${_id}\"\n  src=\"${trash}\"\n  alt=\"Delete book\"\n  />\n</button>\n</div>\n<p class=\"shop-list-description\">${description}<p>\n<div class=\"shop-list-downpart\">\n<p class=\"shop-list-author\"> Author: ${author}</p>\n<div class=\"shop-list-links\">\n<a class=\"amazon-link\" target=\"_blank\" href=\"${\n    buy_links.find(buyLink => buyLink.name === 'Amazon').url\n  }\">\n<img \nclass=\"amazon-img  html.dark-mode & {}\"\nsrcset=\"\n${amazon1x} 1x,\n${amazon2x} 2x\n\"\nsrc=\"${amazon1x}\"\nalt=\"Amazon Shop\"\n/>\n</a>\n<a class=\"openbooks-link\" target=\"_blank\" href=\"${\n    buy_links.find(buyLink => buyLink.name === 'Apple Books').url\n  }\">\n     <img \n  class=\"open-book-icon\"\n  src=\"${openbook}\"\n  alt=\"Open book\"\n  />\n  </a>\n</div>\n</div>\n</div>\n</div>`;\n}\n\nfunction removeBook(event) {\n  if (\n    event.target.classList.contains('remove-shop-list-book') ||\n    event.target.classList.contains('icon-basket-shop-list') ||\n    event.target.dataset.name === 'remove-shop-list-book'\n  ) {\n    const bookId = event.target.getAttribute('data-bookid');\n    removeBookFromList(bookId);\n  }\n}\n\nfunction removeBookFromList(bookId) {\n  let savedInShopList = localStorage.getItem('books');\n\n  if (savedInShopList) {\n    savedInShopList = JSON.parse(savedInShopList);\n    const indexToRemove = savedInShopList.indexOf(bookId);\n\n    // Видаляємо книгу з масиву за її індексом\n    if (indexToRemove !== -1) {\n      savedInShopList.splice(indexToRemove, 1);\n    }\n\n    // Зберігаємо оновлений масив книг в localStorage\n    localStorage.setItem('books', JSON.stringify(savedInShopList));\n\n    // Оновлюємо список книг на сторінці\n    getAllBooks();\n  }\n}\n\n//поки закоментувала видалення книжок\ndocument.addEventListener('click', removeBook);\n\n////книги в localStorage - тимчасова кнопка додавання книжок\nconst addButton = document.querySelector('.add-book');\n\naddButton.addEventListener('click', e => {\n  const booksIdArray = [\n    '643282b1e85766588626a080',\n    '643282b1e85766588626a0ba',\n    '643282b1e85766588626a0dc',\n    '643282b2e85766588626a0fc',\n    '643282b2e85766588626a118',\n    '643282b1e85766588626a085',\n    '643282b1e85766588626a0b2',\n  ];\n  localStorage.setItem('books', JSON.stringify(booksIdArray));\n});\n\n// це щоб подивитися як працює перемикач для пагінації. його треба буде створювати при рендері і задавати відповідні значення\n// const pagination2 = new Pagination(tuiPagination, {\n//   totalItems: 25,\n//   itemsPerPage: 3,\n//   visiblePages: 5,\n//   centerAlign: true,\n// });\n"],"names":["loaderOn","element","loaderOff","amazon1x","amazon2x","openbook","trash","getBookById","bookId","axios","booksContainer","emptyListImg","shoppingListLoader","tuiPagination","savedBooks","itemsPerPage","calculateItemsPerPage","onLoad","startFunction","getAllBooks","Pagination","renderBooks","waitForEvent","eventType","resolve","reject","eventHandler","event","addBooks","result","onError","pageNumber","booksMarkup","book","createBookCard","savedInShopList","booksIdArray","promises","promise","books","error","book_image","title","list_name","description","author","buy_links","_id","buyLink","removeBook","removeBookFromList","indexToRemove","addButton","e"],"mappings":"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"}
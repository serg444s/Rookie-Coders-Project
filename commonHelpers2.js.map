{"version":3,"file":"commonHelpers2.js","sources":["../src/js/loader.js","../src/img/shopping_list/amazon1x.png","../src/img/shopping_list/amazon2x.png","../src/img/shopping_list/openbook.png","../src/js/shop_list.js"],"sourcesContent":["export function loaderOn(element) {\n  element.classList.add('loader');\n}\n\nexport function loaderOff(element) {\n  element.classList.remove('loader');\n}\n\n//використання\n/*\n\nHTML\nстворити div для лодера і задати йому id\n<div id=\"your-id\"></div>\n\nJS\nimport { loaderOn, loaderOff } from './loader';\nconst yourLoader = document.querySelector('#your-id');\nloaderOn(yourLoader);\nloaderOff(yourLoader);\n\n\n*/\n","export default \"data:image/png;base64,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\"","export default \"__VITE_ASSET__457dc3f0__\"","export default \"data:image/png;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAQDAwQDAwQEAwQFBAQFBgoHBgYGBg0JCggKDw0QEA8NDw4RExgUERIXEg4PFRwVFxkZGxsbEBQdHx0aHxgaGxr/2wBDAQQFBQYFBgwHBwwaEQ8RGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhr/wAARCAAbABwDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAABgcIBQP/xAAxEAABAwMCAwQJBQAAAAAAAAABAgMEAAUGERIHExQxQXGBFiEjMlFTVWSRlLGywtH/xAAYAQEAAwEAAAAAAAAAAAAAAAAEAgUGB//EACQRAAEDBAMAAQUAAAAAAAAAAAECAwQABRExEiFBURNhgZHR/9oADAMBAAIRAxEAPwCuOImdS8dlR7faAkSXEBxbikbtoJ0AAoKkcQsvh7OredY3+5zIaE7vDVNEGSqB4xWJJ+W3/emXdIzMnpOoaS5y5KFo3DXaR31zh2FcLtJlLRLU2EL4pA1jCfgj5/dbNL0O3MR0rjhfNPIk72f5SaHEjK7a8yu5p1bUddj8UNhY8QBTptk5u526JNZGjclpLqQe4KGtB3F4hOGuk90hr9638JOuI2Q/Zt/xFWdoalwLi7DdfU6nglQKtgkkfeg3Ax5MFuU20EHkUnGugDSm4wP3CwZnbb3CASBHAacUjclLiSdQfIihiBxbyOHzeplJm7x7PnoB5ax2KFUrKiR5zRZmsNSGVdqHUBST5Gs/0TsH0O2fom/8qUqwy1SlvxpHAKOcd7xg66OvafEv0JERDEqNzKRjPWs5Gxkfg1Ms/Or/AHyG5b7jNXNZfWk7FtgncD6tulUzicN23YzaIktIQ+zEbQ4n4KCRqPzXaNj1ohPh6HaoMd5PY41GQhQ8wNa1KbabQ9AdW687zUQB70M59OaBd7uxcG0NR2fppBJ87OMeACv/2Q==\"","import { loaderOn, loaderOff } from './loader';\nimport axios from 'axios';\nimport amazon1x from '../img/shopping_list/amazon1x.png';\nimport amazon2x from '../img/shopping_list/amazon2x.png';\nimport openbook from '../img/shopping_list/openbook.png';\n\n//функція Анатолія для отримання книги за id (поки тут, але потім її треба буде просто імпортувати)\nexport async function getBookById(bookId) {\n  const resp = await axios.get(\n    `https://books-backend.p.goit.global/books/${bookId}`\n  );\n  return resp.data;\n}\n\nconst booksContainer = document.querySelector('.js-books-container');\nconst emptyListImg = document.querySelector('.empty-shopping-list-main'); //тут був неправильний селектор\nconst shoppingListLoader = document.querySelector('#shopping-list-loader');\n\nstartFunction();\nrenderBooks();\n\nfunction startFunction() {\n  booksContainer.innerHTML = '';\n  emptyListImg.style.display = 'none';\n  loaderOn(shoppingListLoader);\n}\n\nfunction renderBooks() {\n  addBooks()\n    .then(result => {\n      const savedBooks = result;\n      if (savedBooks.length === 0) {\n        loaderOff(shoppingListLoader);\n        emptyListImg.style.display = 'block';\n        booksContainer.innerHTML = '';\n      } else {\n        const booksMarkup = savedBooks\n          .map(book => createBookCard(book))\n          .join('');\n        loaderOff(shoppingListLoader);\n        booksContainer.innerHTML = booksMarkup;\n        emptyListImg.style.display = 'none'; //тепер це працює\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\n//функція отримує масив id збережених у сховищі і повертає масив промісів на книги\nfunction addBooks() {\n  return new Promise((resolve, reject) => {\n    const savedInShopList = localStorage.getItem('books');\n\n    if (savedInShopList) {\n      const booksIdArray = JSON.parse(savedInShopList);\n      const promises = [];\n\n      booksIdArray.forEach(bookId => {\n        const promise = getBookById(bookId);\n        promises.push(promise);\n      });\n\n      Promise.all(promises)\n        .then(books => {\n          resolve(books);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    } else {\n      resolve([]);\n    }\n  });\n}\n\n//функція повертає розмітку однієї картки\nfunction createBookCard(book) {\n  const { book_image, title, list_name, description, author, buy_links, _id } =\n    book; //деструктуризуємо\n  return `<div class=\"book-list\">\n<img class=\"book-card-img\" src=\"${book_image}\" alt=\"${title}\" />\n<div class=\"shop-card-info\">\n<div class=\"shop-card-hero\">\n<div class=\"shop-list-title-name\">\n<h3 class=\"shop-list-title\">${title}<h3>\n<p class=\"shop-list-list-name>${list_name}\"></p>\n</div>\n<button class=\"remove-shop-list-book\" data-bookid=\"${_id}\">\n<svg class=\"icon-basket-shop-list\" width=\"28\" height=\"26\" data-bookid=\"${_id}\">\n <use data-name=\"icon-removebook\" href=\"/img/symbol-defs.svg#icon-removebook\"></use>\n</svg>\n</button>\n</div>\n<p class=\"shop-list-description\">${description}<p>\n<div class=\"shop-list-downpart\">\n<p class=\"shop-list-author\"> Author: ${author}</p>\n<div class=\"shop-list-links\">\n<a class=\"amazon-link\" target=\"_blank\" href=\"${\n    buy_links.find(buyLink => buyLink.name === 'Amazon').url\n  }\">\n<img \nclass=\"amazon-img\"\nsrcset=\"${amazon1x} 1x,\n${amazon2x} 2x\";\nsrc=\"${amazon1x}\"\nalt=\"Amazon Shop\"\n/>\n</a>\n<a class=\"openbooks-link\" target=\"_blank\" href=\"${\n    buy_links.find(buyLink => buyLink.name === 'Apple Books').url\n  }\">\n     <img \n  class=\"open-book-icon\"\n  src=\"${openbook}\"\n  alt=\"Open book\"\n  />\n  </a>\n</div>\n</div>\n</div>\n</div>`;\n}\n\nfunction removeBook(event) {\n \n  if (\n    event.target.classList.contains('remove-shop-list-book') || \n    event.target.classList.contains('icon-basket-shop-list') || \n    event.target.dataset.name === 'remove-shop-list-book' \n  ) {\n   const bookId = event.target.getAttribute('data-bookid');\n    removeBookFromList(bookId);\n  }\n}\n\n\nfunction removeBookFromList(bookId) {\n let savedInShopList = localStorage.getItem('books');\n  \n  if (savedInShopList) {\n    savedInShopList = JSON.parse(savedInShopList);\n    const indexToRemove = savedInShopList.indexOf(bookId);\n    \n    // Видаляємо книгу з масиву за її індексом\n    if (indexToRemove !== -1) {\n      savedInShopList.splice(indexToRemove, 1);\n    }\n    \n    // Зберігаємо оновлений масив книг в localStorage\n    localStorage.setItem('books', JSON.stringify(savedInShopList));\n    \n    // Оновлюємо список книг на сторінці\n    renderBooks();\n  }\n}\n\n\n// document.addEventListener('DOMContentLoaded', renderBooks); //коли веб-сторінка буде повністю завантажена, функція renderBooks буде викликана автоматично. Це часто використовується для початкового відображення даних на сторінці, коли всі елементи DOM вже доступні для маніпуляції.\n\n//поки закоментувала видалення книжок\ndocument.addEventListener('click', removeBook);\n\n////книги в localStorage - тимчасова кнопка додавання книжок\nconst addButton = document.querySelector('.add-book');\n\naddButton.addEventListener('click', e => {\n  const booksIdArray = [\n    '643282b1e85766588626a080',\n    '643282b1e85766588626a0ba',\n    '643282b1e85766588626a0dc',\n    '643282b2e85766588626a0fc',\n    '643282b2e85766588626a118',\n    '643282b1e85766588626a085',\n    '643282b1e85766588626a0b2',\n  ];\n  localStorage.setItem('books', JSON.stringify(booksIdArray));\n});\n"],"names":["loaderOn","element","loaderOff","amazon1x","amazon2x","openbook","getBookById","bookId","axios","booksContainer","emptyListImg","shoppingListLoader","startFunction","renderBooks","addBooks","result","savedBooks","booksMarkup","book","createBookCard","error","resolve","reject","savedInShopList","booksIdArray","promises","promise","books","book_image","title","list_name","description","author","buy_links","_id","buyLink","removeBook","event","removeBookFromList","indexToRemove","addButton","e"],"mappings":"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"}
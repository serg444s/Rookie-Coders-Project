import"./assets/styles-29d476de.js";import{a as m}from"./assets/vendor-375581c1.js";function A(o){o.classList.add("loader")}function b(o){o.classList.remove("loader")}const r="data:image/png;base64,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";async function k(o){return(await m.get(`https://books-backend.p.goit.global/books/${o}`)).data}const l=document.querySelector(".js-books-container"),d=document.querySelector(".empty-shopping-list-main"),p=document.querySelector("#shopping-list-loader");u();h();function u(){l.innerHTML="",d.style.display="none",A(p)}function h(){f().then(o=>{const s=o;if(s.length===0)b(p),d.style.display="block",l.innerHTML="";else{const t=s.map(a=>I(a)).join("");b(p),l.innerHTML=t,d.style.display="none"}}).catch(o=>{console.error(o)})}function f(){return new Promise((o,s)=>{const t=localStorage.getItem("books");if(t){const a=JSON.parse(t),i=[];a.forEach(e=>{const n=k(e);i.push(n)}),Promise.all(i).then(e=>{o(e)}).catch(e=>{s(e)})}else o([])})}function I(o){const{book_image:s,title:t,list_name:a,description:i,author:e,buy_links:n,_id:g}=o;return`<div class="book-list">
<img class="book-card-img" src="${s}" alt="${t}" />
<div class="shop-card-info">
<div class="shop-card-hero">
<div class="shop-list-title-name">
<h3 class="shop-list-title">${t}<h3>
<p class="shop-list-list-name">${a}></p>
</div>
<button class="remove-shop-list-book" data-bookid="${g}">
<svg class="icon-basket-shop-list" width="28" height="26" data-bookid="${g}">
 <use data-name="icon-removebook" href="../img/symbol-defs.svg#icon-removebook"></use>
</svg>
</button>
</div>
<p class="shop-list-description">${i}<p>
<div class="shop-list-downpart">
<p class="shop-list-author"> Author: ${e}</p>
<div class="shop-list-links">
<a class="amazon-link" target="_blank" href="${n.find(c=>c.name==="Amazon").url}">
<img 
class="amazon-img"
srcset="
${r} 1x,
${r} 2x
"
src="${r}"
alt="Amazon Shop"
/>
</a>
<a class="openbooks-link" target="_blank" href="${n.find(c=>c.name==="Apple Books").url}">
     <img 
  class="open-book-icon"
  src="../img/shopping_list/openbook.png"
  alt="Open book"
  />
  </a>
</div>
</div>
</div>
</div>`}function v(o){if(o.target.classList.contains("remove-shop-list-book")||o.target.classList.contains("icon-basket-shop-list")||o.target.dataset.name==="remove-shop-list-book"){const s=o.target.getAttribute("data-bookid");M(s)}}function M(o){let s=localStorage.getItem("books");if(s){s=JSON.parse(s);const t=s.indexOf(o);t!==-1&&s.splice(t,1),localStorage.setItem("books",JSON.stringify(s)),h()}}document.addEventListener("click",v);const L=document.querySelector(".add-book");L.addEventListener("click",o=>{const s=["643282b1e85766588626a080","643282b1e85766588626a0ba","643282b1e85766588626a0dc","643282b2e85766588626a0fc","643282b2e85766588626a118","643282b1e85766588626a085","643282b1e85766588626a0b2"];localStorage.setItem("books",JSON.stringify(s))});
//# sourceMappingURL=commonHelpers2.js.map
